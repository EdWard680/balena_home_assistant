version: '2'
volumes:
    resin-data:
    hass-config:
    plex-config:
services:
    hass:
        build: ./hass
        cap_add:
            - NET_ADMIN
        restart: always
        network_mode: host
        volumes:
            - 'hass-config:/config'
    plex:
        build: ./plex
        privileged: true
        container_name: plex
        network_mode: host
        environment:
            - PUID=1000
            - PGID=1000
            - VERSION=docker
        volumes:
            - plex-config:/config
        restart: unless-stopped
    mediashare:
        build: ./mediashare
        privileged: true
        network_mode: host
    git:
        build: ./git
        restart: always
        volumes:
            - 'hass-config:/config'
